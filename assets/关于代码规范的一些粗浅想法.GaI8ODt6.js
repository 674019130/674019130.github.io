import{_ as m}from"./ValaxyMain.vue_vue_type_style_index_0_lang.DfSvu0AI.js";import{f as k,a as g,u as f}from"./chunks/vue-router._WMYa8cX.js";import{s as D,bH as a,aW as t,v as l,H as e,bi as F,aK as y,aM as A}from"./framework.DDojlQDl.js";import"./app.i6-hyFKY.js";import"./chunks/dayjs.DPscOGnl.js";import"./chunks/vue-i18n.D5iU1Uln.js";import"./chunks/pinia.DkkyVvQY.js";import"./chunks/@vueuse/motion.B7tSKkoB.js";import"./chunks/nprogress.DgNGesC2.js";import"./YunComment.vue_vue_type_style_index_0_lang.lVt8y9cy.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.CUTuRIHR.js";import"./post.D5cvIXgt.js";const b=k("/posts/关于代码规范的一些粗浅想法",async n=>JSON.parse('{"title":"关于代码规范的一些粗浅想法","description":"","frontmatter":{"title":"关于代码规范的一些粗浅想法","tags":["代码规范","编程思想"],"categories":["技术笔记","软件工程"],"author":"苏","excerpt":"衡量代码质量的标准有很多——鲁棒性、可读性、复用性、是否符合各种设计原则等等。在我看来，代码规范即衡量代码质量标准的集合。其中可读性可能是代码规范最关注的一部分。","readmore":true,"toc":true},"headers":[{"level":2,"title":"「技能」","slug":"「技能」","link":"#「技能」","children":[]},{"level":2,"title":"「内功」","slug":"「内功」","link":"#「内功」","children":[]}],"relativePath":"pages/posts/关于代码规范的一些粗浅想法.md","lastUpdated":1747386466000}'),{lazy:(n,r)=>n.name===r.name}),T={__name:"关于代码规范的一些粗浅想法",setup(n,{expose:r}){var u;const{data:o}=b(),c=f(),h=g(),s=Object.assign(h.meta.frontmatter||{},((u=o.value)==null?void 0:u.frontmatter)||{});return h.meta.frontmatter=s,c.currentRoute.value.data=o.value,A("valaxy:frontmatter",s),globalThis.$frontmatter=s,r({frontmatter:{title:"关于代码规范的一些粗浅想法",tags:["代码规范","编程思想"],categories:["技术笔记","软件工程"],author:"苏",excerpt:"衡量代码质量的标准有很多——鲁棒性、可读性、复用性、是否符合各种设计原则等等。在我看来，代码规范即衡量代码质量标准的集合。其中可读性可能是代码规范最关注的一部分。",readmore:!0,toc:!0}}),(i,p)=>{const d=m;return y(),D(d,{frontmatter:F(s)},{"main-content-md":a(()=>p[0]||(p[0]=[l("h1",{id:"什么是代码规范",tabindex:"-1"},[e("什么是代码规范？ "),l("a",{class:"header-anchor",href:"#什么是代码规范","aria-label":'Permalink to "什么是代码规范？"'},"​")],-1),l("blockquote",null,[l("p",null,"“衡量代码质量的唯一标准是阅读该代码时说脏话的次数”。"),l("p",null,"——Robert C. Martin"),l("img",{src:"https://pica.zhimg.com/80/v2-5d1520afa50157945c15107f4776b850_720w.webp?source=1940ef5c"})],-1),l("p",null,[e("衡量代码质量的标准有很多——鲁棒性、可读性、复用性、是否符合各种设计原则等等。在我看来，代码规范即衡量代码质量标准的集合。其中"),l("strong",null,"可读性"),e("可能是"),l("strong",null,"代码规范"),e("最关注的一部分。")],-1),l("p",null,"（当然，上图这种解释或许更容易理解🐶.",-1),l("h1",{id:"代码规范的「技能」和「内功」",tabindex:"-1"},[e("代码规范的「技能」和「内功」 "),l("a",{class:"header-anchor",href:"#代码规范的「技能」和「内功」","aria-label":'Permalink to "代码规范的「技能」和「内功」"'},"​")],-1),l("p",null,"在我看来，代码规范不是一条条规定，而是属于对业务和技术的思考。很想把自己接触代码以来的所有思考有逻辑地、完整地讲出来，无奈才疏学浅，只能从几个不同的维度独立地对代码规范进行分析。",-1),l("h2",{id:"「技能」",tabindex:"-1"},[e("「技能」 "),l("a",{class:"header-anchor",href:"#「技能」","aria-label":'Permalink to "「技能」"'},"​")],-1),l("p",null,[e("「技能」比「内功」更像是一些明文规定的条条框框，更「肉眼可见」。比如模仿英文书写的"),l("strong",null,"标点符号后加一个半角空格"),e("，"),l("strong",null,"条件分支和循环语句的关键字后面加一个半角空格"),e("等等。")],-1),l("p",null,[e("在我刚开始入门学习 C/C++ 语言的时候，一个简单的 "),l("code",null,"for"),e("循环的规范使我困惑了许久。")],-1),l("div",{class:"language-C vp-adaptive-theme"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"},"C"),l("pre",{class:"shiki shiki-themes material-theme-lighter material-theme-darker vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#39ADB5","--shiki-light-font-style":"italic","--shiki-dark":"#89DDFF","--shiki-dark-font-style":"italic"}},"for"),l("span",{style:{"--shiki-light":"#39ADB5","--shiki-dark":"#89DDFF"}}," ("),l("span",{style:{"--shiki-light":"#9C3EDA","--shiki-dark":"#C792EA"}},"int"),l("span",{style:{"--shiki-light":"#90A4AE","--shiki-dark":"#EEFFFF"}}," i "),l("span",{style:{"--shiki-light":"#39ADB5","--shiki-dark":"#89DDFF"}},"="),l("span",{style:{"--shiki-light":"#F76D47","--shiki-dark":"#F78C6C"}}," 0"),l("span",{style:{"--shiki-light":"#39ADB5","--shiki-dark":"#89DDFF"}},";"),l("span",{style:{"--shiki-light":"#90A4AE","--shiki-dark":"#EEFFFF"}}," i "),l("span",{style:{"--shiki-light":"#39ADB5","--shiki-dark":"#89DDFF"}},"<"),l("span",{style:{"--shiki-light":"#90A4AE","--shiki-dark":"#EEFFFF"}}," length"),l("span",{style:{"--shiki-light":"#39ADB5","--shiki-dark":"#89DDFF"}},";"),l("span",{style:{"--shiki-light":"#39ADB5","--shiki-dark":"#89DDFF"}}," ++"),l("span",{style:{"--shiki-light":"#90A4AE","--shiki-dark":"#EEFFFF"}},"i"),l("span",{style:{"--shiki-light":"#39ADB5","--shiki-dark":"#89DDFF"}},")")]),e(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#39ADB5","--shiki-dark":"#89DDFF"}},"{")]),e(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#6182B8","--shiki-dark":"#82AAFF"}},"    doSomething"),l("span",{style:{"--shiki-light":"#39ADB5","--shiki-dark":"#89DDFF"}},"();")]),e(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#39ADB5","--shiki-dark":"#89DDFF"}},"}")])])]),l("button",{class:"collapse"})],-1),l("p",null,[e("为什么"),l("code",null,"for"),e("关键字后要加一个空格；为什么运算符两边要加空格；为什么大括号要独占一行……还是个新手的我考虑不通这些问题，只能硬记下来，在敲每一个"),l("code",null,"for"),e("循环时，都手动地添加这一个个不明所以的空格。")],-1),l("p",null,"很明显，在不明白这种硬性规定背后原因的情况下，身为新手的我也能写出从简单的「空格规范」角度来说算是「规范」的代码，这使我的代码的可读性大大提高——相比于其他同学「粘成一块」的代码。",-1),l("p",null,[e("当然，「技能」远远不止这些，在我们的认知里，几乎所有的"),l("strong",null,"代码规范"),e("都是「技能」，是一些让代码看起来「好看」的硬性规定。在实际工作中，遵守与不遵守它的人，写出来的东西好像都一样可以运行，这无疑让人有点挫败。于是我开始思考为什么这么做。")],-1),l("h2",{id:"「内功」",tabindex:"-1"},[e("「内功」 "),l("a",{class:"header-anchor",href:"#「内功」","aria-label":'Permalink to "「内功」"'},"​")],-1),l("p",null,[e("我们每个人都能谈一谈空格、换行、变量命名……但所谓的「内功」将不再在这样简单的维度对"),l("strong",null,"代码规范"),e("进行考量，它包罗万象、因人而异而又有一个统一的标准。什么是内功？")],-1),l("p",null,[e("当我读《设计模式之禅》这本书的时候，里面提到了许多"),l("strong",null,"面向对象设计原则"),e("：")],-1),l("ul",null,[l("li",null,"开闭原则 OCP (The Open-Close Principle)"),l("li",null,"单一职责原则 SRP (Single Responsibility Principle)"),l("li",null,[l("a",{href:"https://www.zhihu.com/search?q=%E4%BE%9D%E8%B5%96%E5%80%92%E7%BD%AE%E5%8E%9F%E5%88%99&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A1265382883%7D",target:"_blank",rel:"noreferrer"},"依赖倒置原则"),e(" DIP (Dependence Inversion Principle)")]),l("li",null,[e("最少知识原则 LKP (Least Knowledge Principle)) / "),l("a",{href:"https://www.zhihu.com/search?q=%E8%BF%AA%E7%B1%B3%E7%89%B9%E6%B3%95%E5%88%99&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A1265382883%7D",target:"_blank",rel:"noreferrer"},"迪米特法则"),e(" (Law Of Demeter)")]),l("li",null,"里氏替换原则 LSP (Liskov Substitution Principle)"),l("li",null,"接口隔离原则 ISP (Interface Segregation Principle)"),l("li",null,"组合/聚合复用原则 CARP (Composite/Aggregate Reuse Principle)")],-1),l("p",null,[e("面对这些既抽象又合理的原则，我意识到这可能才是衡量代码优劣的更高标准。这使得我们写出的代码可以尽可能符合"),l("strong",null,"高内聚低耦合"),e("的标准。")],-1),l("p",null,[e("这也是一种"),l("strong",null,"代码规范"),e("吗？如果你也在追求代码质量，或者你也有代码洁癖，那么毫无疑问，这是一份堪称圭臬的宝藏。")],-1),l("hr",null,null,-1),l("p",null,"除此之外，对「技能」的一些规定的长久的思考，也让我对一些问题有了答案。许多问题都可以用「便于区分」、「模块化」、「尽量避免你所使用的开发语言所拥有的缺陷」等来回答。",-1),l("p",null,[e("还是上面的"),l("code",null,"for"),e("关键字后加空格的问题，为什么我们在调用一个**函数（方法）**时不需要加空格呢？正是为了区分两者。")],-1),l("p",null,[e("为什么在类的公共方法中，调用类的成员方法要添加"),l("code",null,"this."),e("前缀，明明不添加也一样可以正常调用。正是为了区分类内方法和其他方法。")],-1),l("p",null,"……",-1),l("p",null,"「内功」对「技能」背后的原因做出了解释，也对其他「技能」所管辖不到的地方提供了**高自由度但「事实一致」**的规范。包括但不限于变量的命名、注释的使用、函数（方法）的职责、类内对象的暴露与封闭……",-1),l("h1",{id:"小结",tabindex:"-1"},[e("小结 "),l("a",{class:"header-anchor",href:"#小结","aria-label":'Permalink to "小结"'},"​")],-1),l("p",null,[e("开发工作本身对抽象能力的高要求和工作中业务逻辑的复杂性，对"),l("strong",null,"代码规范"),e("的落地实施设置了许多障碍。在日常工作中，在阅读精炼的源码的时候，甚至在书写相关文档的时候，我们都不应该停止对"),l("strong",null,"产出高质量内容"),e("的追求。或许有人还是对这些「虚无缥缈」的东西不以为意，认为代码和人有一个能跑就行。")],-1),l("p",null,"Whatever，我们只要一直做酷的事情就好了。",-1),l("hr",null,null,-1),l("p",null,[e("写的内容并不多，我尝试着总结，尝试一言以蔽之，但是"),l("strong",null,"代码规范"),e("的意义和内容远不止于此。其实，只要在写代码的过程中，保持思考和对技术的追求，对这些东西的理解自然会逐渐提升，自然养成好的习惯。")],-1),l("p",null,"精益求精，才是我们应该做的。",-1),l("h1",{id:"一些常见的、易被忽略的、易于执行的简单规范",tabindex:"-1"},[e("一些常见的、易被忽略的、易于执行的简单规范 "),l("a",{class:"header-anchor",href:"#一些常见的、易被忽略的、易于执行的简单规范","aria-label":'Permalink to "一些常见的、易被忽略的、易于执行的简单规范"'},"​")],-1),l("p",null,"有则改之无则加勉。",-1),l("ul",null,[l("li",null,[l("p",null,"不滥用注释")]),l("li",null,[l("p",null,[e("代码不应被注释，如实有必要，应写明注释原因（考虑"),l("strong",null,"注释"),e("的语义）")])]),l("li",null,[l("p",null,"单行注释不应与代码混在一起，且注释应开头空一格"),l("p",null,"bad case:"),l("p",null,[l("code",null,"this.someMethod(); //some comments")]),l("p",null,"good case:"),l("div",{class:"language-java vp-adaptive-theme"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"},"java"),l("pre",{class:"shiki shiki-themes material-theme-lighter material-theme-darker vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#90A4AE","--shiki-light-font-style":"italic","--shiki-dark":"#545454","--shiki-dark-font-style":"italic"}},"// some comments")]),e(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#39ADB5","--shiki-dark":"#89DDFF"}},"this."),l("span",{style:{"--shiki-light":"#6182B8","--shiki-dark":"#82AAFF"}},"someMethod"),l("span",{style:{"--shiki-light":"#39ADB5","--shiki-dark":"#89DDFF"}},"();")])])]),l("button",{class:"collapse"})])]),l("li",null,[l("p",null,[l("code",null,"if"),e(", "),l("code",null,"for"),e(", "),l("code",null,"while"),e(", "),l("code",null,"return"),e("等关键字后空一格，运算符两边各空一格")])]),l("li",null,[l("p",null,"变量命名尽可能使用英文，尽可能简单但意义明确")]),l("li",null,[l("p",null,"容器类的变量命名包含其语义"),l("p",null,"bad case:"),l("p",null,[l("code",null,"Map<String, String> score = new HashMap<>();")]),l("p",null,"good case:"),l("p",null,[l("code",null,"ArrayList<String> fileNameList = new ArrayList<>();")])]),l("li",null,[l("p",null,[e("在 Java 代码中尽可能避免传递和返回"),l("strong",null,"空指针")])]),l("li",null,[l("p",null,"一个代码块应该是一段完整的逻辑，使用换行将代码逻辑模块化")]),l("li",null,[l("p",null,"一行代码不宜过长")]),l("li",null,[l("p",null,"尽可能避免出现魔法数，使用常量进行代替，并在注释中写明用途")]),l("li",null,[l("p",null,"方法参数尽可能少")])],-1)])),"main-header":a(()=>[t(i.$slots,"main-header")]),"main-header-after":a(()=>[t(i.$slots,"main-header-after")]),"main-nav":a(()=>[t(i.$slots,"main-nav")]),"main-content-before":a(()=>[t(i.$slots,"main-content-before")]),"main-content":a(()=>[t(i.$slots,"main-content")]),"main-content-after":a(()=>[t(i.$slots,"main-content-after")]),"main-nav-before":a(()=>[t(i.$slots,"main-nav-before")]),"main-nav-after":a(()=>[t(i.$slots,"main-nav-after")]),comment:a(()=>[t(i.$slots,"comment")]),footer:a(()=>[t(i.$slots,"footer")]),aside:a(()=>[t(i.$slots,"aside")]),"aside-custom":a(()=>[t(i.$slots,"aside-custom")]),default:a(()=>[t(i.$slots,"default")]),_:3},8,["frontmatter"])}}};export{T as default,b as usePageData};
